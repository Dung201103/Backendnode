'use strict';var _0x1c80bb=_0x5031;function _0x3b65(){var _0x4546c8=['14700cvRdlq','lodash','__esModule','4710UQYmNy','json','10952592jTMCBl','3340572NKOEHl','status','/register','8vHvkgB','/participant','pKsHa','kPlxL','access_token','split','exports','1272225TRkKyq','headers','bcryptjs','groupWithRoles','default','authorization','JWT_SECRET','2432022mVIWEA','config','url','you\x20don\x27t\x20permission\x20to\x20access\x20this\x20resource...','body','includes','/account','/refresh-token','27530MSIrpd','user','xDaXZ','Bearer','/login','jsonwebtoken','cookies','delay','9494262DONfkQ','/participant/all','/logout','Not\x20authenticated\x20the\x20user','TokenExpiredError','path','Roles','../models/index','some'];_0x3b65=function(){return _0x4546c8;};return _0x3b65();}(function(_0x1d3e1e,_0x24be00){var _0x3fc20d=_0x5031,_0x274312=_0x1d3e1e();while(!![]){try{var _0x47a45f=parseInt(_0x3fc20d(0x1dd))/0x1+-parseInt(_0x3fc20d(0x1b4))/0x2+-parseInt(_0x3fc20d(0x1d3))/0x3+parseInt(_0x3fc20d(0x1d6))/0x4*(-parseInt(_0x3fc20d(0x1bc))/0x5)+-parseInt(_0x3fc20d(0x1d0))/0x6*(-parseInt(_0x3fc20d(0x1cd))/0x7)+parseInt(_0x3fc20d(0x1d2))/0x8+-parseInt(_0x3fc20d(0x1c4))/0x9;if(_0x47a45f===_0x24be00)break;else _0x274312['push'](_0x274312['shift']());}catch(_0x5c1942){_0x274312['push'](_0x274312['shift']());}}}(_0x3b65,0xda57e));var _jsonwebtoken=_interopRequireDefault(require(_0x1c80bb(0x1c1))),_lodash=require(_0x1c80bb(0x1ce)),_uuid=require('uuid'),_index=_interopRequireDefault(require(_0x1c80bb(0x1cb))),_bcryptjs=_interopRequireDefault(require(_0x1c80bb(0x1df)));function _interopRequireDefault(_0x1c524b){var _0x38fd65=_0x1c80bb;return _0x1c524b&&_0x1c524b[_0x38fd65(0x1cf)]?_0x1c524b:{'default':_0x1c524b};}function _0x5031(_0x46e900,_0x3bc35b){var _0x3b6545=_0x3b65();return _0x5031=function(_0x503177,_0x5bc03e){_0x503177=_0x503177-0x1b4;var _0x1dbc33=_0x3b6545[_0x503177];return _0x1dbc33;},_0x5031(_0x46e900,_0x3bc35b);}require('dotenv')[_0x1c80bb(0x1b5)]();var nonSecurePaths=[_0x1c80bb(0x1c6),_0x1c80bb(0x1c0),_0x1c80bb(0x1d5),_0x1c80bb(0x1bb),_0x1c80bb(0x1d7),_0x1c80bb(0x1c5)],verifyToken=function(_0x17369d){var _0x96a734=_0x1c80bb,_0x2c8225=process['env'][_0x96a734(0x1e3)],_0x38f225=null;try{if(_0x96a734(0x1be)!==_0x96a734(0x1d8))_0x38f225=_jsonwebtoken[_0x96a734(0x1e1)]['verify'](_0x17369d,_0x2c8225);else{if(_0x33131d instanceof _0x1fc492[_0x96a734(0x1e1)][_0x96a734(0x1c8)])return _0x96a734(0x1c8);}}catch(_0x17a869){if(_0x96a734(0x1d9)!==_0x96a734(0x1d9))return _0x2b2462[_0x96a734(0x1b6)]===_0x310ee5||_0x297662[_0x96a734(0x1b9)](_0x29f734[_0x96a734(0x1b6)]);else{if(_0x17a869 instanceof _jsonwebtoken[_0x96a734(0x1e1)][_0x96a734(0x1c8)])return _0x96a734(0x1c8);}}return _0x38f225;},extractToken=function(_0x417118){var _0x3e5ccf=_0x1c80bb;return _0x417118[_0x3e5ccf(0x1de)][_0x3e5ccf(0x1e2)]&&_0x3e5ccf(0x1bf)===_0x417118['headers'][_0x3e5ccf(0x1e2)]['split']('\x20')[0x0]?_0x417118[_0x3e5ccf(0x1de)][_0x3e5ccf(0x1e2)][_0x3e5ccf(0x1db)]('\x20')[0x1]:null;},checkUserJWT=function(_0xa351c9,_0x4f8d1c,_0x2e09c6){var _0x524035=_0x1c80bb;if(nonSecurePaths[_0x524035(0x1b9)](_0xa351c9[_0x524035(0x1c9)]))return _0x2e09c6();var _0x5177a6=_0xa351c9[_0x524035(0x1c2)],_0x424d39=extractToken(_0xa351c9);return _0x5177a6&&_0x5177a6[_0x524035(0x1da)]||_0x424d39?(_0x5177a6=_0x5177a6&&_0x5177a6['access_token']?_0x5177a6[_0x524035(0x1da)]:_0x424d39,(_0x424d39=verifyToken(_0x5177a6))&&'TokenExpiredError'!==_0x424d39?(_0xa351c9[_0x524035(0x1bd)]=_0x424d39,void _0x2e09c6()):_0x424d39&&'TokenExpiredError'===_0x424d39?_0x4f8d1c[_0x524035(0x1d4)](0x195)[_0x524035(0x1d1)]({'EC':-0x3e7,'DT':'','EM':'Token\x20Expired\x20Error.\x20You\x20need\x20to\x20use\x20Refresh_Token'}):_0x4f8d1c[_0x524035(0x1d4)](0x191)[_0x524035(0x1d1)]({'EC':-0x1,'DT':'','EM':_0x524035(0x1c7)})):_0x4f8d1c[_0x524035(0x1d4)](0x191)[_0x524035(0x1d1)]({'EC':-0x1,'DT':'','EM':_0x524035(0x1c7)});},checkUserPermission=function(_0x365b06,_0x4353e2,_0x221514){var _0x16258b=_0x1c80bb;return nonSecurePaths[_0x16258b(0x1b9)](_0x365b06[_0x16258b(0x1c9)])||_0x16258b(0x1ba)===_0x365b06[_0x16258b(0x1c9)]?_0x221514():_0x365b06[_0x16258b(0x1bd)]?(_0x365b06['user']['email'],_0x22c5c4=_0x365b06[_0x16258b(0x1bd)][_0x16258b(0x1e0)][_0x16258b(0x1ca)],_0x3157d8=_0x365b06[_0x16258b(0x1c9)],!_0x22c5c4||0x0===_0x22c5c4['length']||!0x0!==_0x22c5c4[_0x16258b(0x1cc)](function(_0x267584){var _0x391c4e=_0x16258b;return _0x267584[_0x391c4e(0x1b6)]===_0x3157d8||_0x3157d8[_0x391c4e(0x1b9)](_0x267584['url']);})?_0x4353e2[_0x16258b(0x1d4)](0x193)[_0x16258b(0x1d1)]({'EC':-0x1,'DT':'','EM':_0x16258b(0x1b7)}):void _0x221514()):_0x4353e2[_0x16258b(0x1d4)](0x191)[_0x16258b(0x1d1)]({'EC':-0x1,'DT':'','EM':_0x16258b(0x1c7)});var _0x22c5c4,_0x3157d8;},addDelay=function(_0x33f62d,_0x36303d,_0x3ae127){var _0x3e625e=_0x1c80bb,_0x1c02ac;null!=_0x33f62d&&null!=(_0x1c02ac=_0x33f62d[_0x3e625e(0x1b8)])&&_0x1c02ac['delay']?setTimeout(function(){_0x3ae127();},+_0x33f62d[_0x3e625e(0x1b8)][_0x3e625e(0x1c3)]):_0x3ae127();};module[_0x1c80bb(0x1dc)]={'checkUserJWT':checkUserJWT,'checkUserPermission':checkUserPermission,'addDelay':addDelay};